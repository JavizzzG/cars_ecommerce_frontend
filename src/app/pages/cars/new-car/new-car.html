
<div class="car-create-container">

  <h1 class="title">{{ message() }}</h1>

  <form [formGroup]="carForm" (submit)="handleCarSubmit()" class="car-create-form">

    <div class="form-grid">

      <fieldset>
        <label>Name</label>
        <input type="text" formControlName="name">
        @if(carForm.controls.name.invalid && carForm.controls.name.touched){
          <span class="error-message">Name is required and must be less than 100 characters.</span>
        }
      </fieldset>

      <fieldset>
        <label>Model</label>
        <input type="text" formControlName="model">
        @if(carForm.controls.model.invalid && carForm.controls.model.touched){
          <span class="error-message">Model is required and must be less than 100 characters.</span>
        }
      </fieldset>

      <fieldset>
        <label>Year (YYYY)</label>
        <input type="text" formControlName="year">
        @if(carForm.controls.year.invalid && carForm.controls.year.touched){
          <span class="error-message">Year is required. The format must be like this (2020)</span>
        }
      </fieldset>

      <fieldset>
        <label>Brand</label>
        <select formControlName="fkidBrand">
          @for(brand of brands(); track brand.id){
            <option [value]="brand.id">{{ brand.name }}</option>
          }
        </select>
        @if(carForm.controls.fkidBrand.invalid && carForm.controls.fkidBrand.touched){
          <span class="error-message">Brand is required.</span>
        }
      </fieldset>

      <fieldset>
        <label>Price</label>
        <input type="number" formControlName="price">
        @if(carForm.controls.price.invalid && carForm.controls.price.touched){
          <span class="error-message">Price is required and must be more than 0</span>
        }
      </fieldset>

      <fieldset>
        <label>Is for sale?</label>
        <select formControlName="for_sale">
          <option value="1">Yes</option>
          <option value="0">No</option>
        </select>
        @if(carForm.controls.for_sale.invalid && carForm.controls.for_sale.touched){
          <span class="error-message">This field is required.</span>
        }
      </fieldset>

      <fieldset>
        <label>Doors</label>
        <select formControlName="door">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
        </select>
      </fieldset>

      <fieldset>
        <label>Seats</label>
        <select formControlName="seat">
          <option value="0">0</option>
          <option value="1">1</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5</option>
          <option value="6">6</option>
          <option value="7">7</option>
          <option value="8">8</option>
          <option value="9">9</option>
        </select>
      </fieldset>

      <fieldset>
        <label>Motor</label>
        <input type="text" formControlName="motor">
        @if(carForm.controls.motor.invalid && carForm.controls.motor.touched){
          <span class="error-message">Motor name must be less than 20 characters.</span>
        }
      </fieldset>

      <fieldset>
        <label>Horse Power</label>
        <input type="number" formControlName="hp">
        @if(carForm.controls.hp.invalid && carForm.controls.hp.touched){
          <span class="error-message">Horse Power is required.</span>
        }
      </fieldset>

      <fieldset>
        <label>Kilometers</label>
        <input type="number" formControlName="km">
        @if(carForm.controls.km.invalid && carForm.controls.km.touched){
          <span class="error-message">Kilometers is required.</span>
        }
      </fieldset>

      <fieldset>
        <label>Max Velocity</label>
        <input type="number" formControlName="max_velocity">
        @if(carForm.controls.max_velocity.invalid && carForm.controls.max_velocity.touched){
          <span class="error-message">Max Velocity is required.</span>
        }
      </fieldset>

      <fieldset>
        <label>Torque</label>
        <input type="number" formControlName="torque">
        @if(carForm.controls.torque.invalid && carForm.controls.torque.touched){
          <span class="error-message">Torque is required.</span>
        }
      </fieldset>

      <fieldset>
        <label>Fuel type</label>
        <select formControlName="fuel">
          <option value="1">Gasoline</option>
          <option value="2">Diesel</option>
          <option value="3">Electric</option>
          <option value="4">Hybrid</option>
        </select>
        @if(carForm.controls.fuel.invalid && carForm.controls.fuel.touched){
          <span class="error-message">Fuel type is required.</span>
        }
      </fieldset>

      <fieldset>
        <label>Is Hybrid?</label>
        <select formControlName="hybrid">
          <option value="1">Yes</option>
          <option value="0">No</option>
        </select>
        @if(carForm.controls.hybrid.invalid && carForm.controls.hybrid.touched){
          <span class="error-message">This field is required.</span>
        }
      </fieldset>

      <fieldset>
        <label>Autonomy</label>
        <input type="number" formControlName="autonomy">
        @if(carForm.controls.autonomy.invalid && carForm.controls.autonomy.touched){
          <span class="error-message">Autonomy is required.</span>
        }
      </fieldset>

      <fieldset>
        <label>Brake</label>
        <select formControlName="brake">
          <option value="1">Mechanical</option>
          <option value="2">Hydraulic</option>
          <option value="3">Electric</option>
        </select>
        @if(carForm.controls.brake.invalid && carForm.controls.brake.touched){
          <span class="error-message">Brake type is required.</span>
        }
      </fieldset>

      <fieldset>
        <label>Modified</label>
        <select formControlName="modified">
          <option value="1">Yes</option>
          <option value="0">No</option>
        </select>
        @if(carForm.controls.modified.invalid && carForm.controls.modified.touched){
          <span class="error-message">This field is required.</span>
        }
      </fieldset>

      <fieldset class="full-width">
        <label>Description</label>
        <input type="text" formControlName="description">
        @if(carForm.controls.description.invalid && carForm.controls.description.touched){
          <span class="error-message">Description is can't have more than 255 characters.</span>
        }
      </fieldset>

      <fieldset class="full-width">
        <label>Image URL</label>
        <input type="text" formControlName="image">
      </fieldset>

    </div>

    <button type="submit" class="submit-btn" [disabled]="carForm.invalid">
      Create
    </button>

  </form>

</div>

